<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="555" pageHeight="802" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="7ffa27ba-2ad9-47d9-8a1e-ddeb5efb9d66">
	<property name="ireport.zoom" value="2.3579476910000086"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="f1" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="f2" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="nombre" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="linea" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\GATEWAY1-\\Documents\\NetBeansProjects\\Rentabilidadphylon\\src\\rentabilidadphylon\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select cost.Id_Producto,df.corrida,p.descripcion,cor.descripcion as 'desc',df.producto
from facturas f
join DFacturas df on df.Factura=f.Factura
join Lineas l on df.Linea = l.linea
join corridas cor on df.corrida=cor.corrida
join RACobranzaPhylon.dbo.Clientes c on f.numcliente=c.NumCliente
join ProduccionPhy.dbo.Costos cost on df.Producto=cost.id_productoRCPT
join ProduccionPhy.dbo.Producto p on cost.id_Producto=p.id_producto
where (f.estatus='F') and Nombre = $P{nombre} and  L.Descripcion=$P{linea} and year(df.fecha)=year($P{f1})
 and CONVERT(date,f.fecha) between $P{f1} and $P{f2}
 group by cost.id_producto,df.corrida,p.descripcion,cor.descripcion,df.producto]]>
	</queryString>
	<field name="Id_Producto" class="java.lang.Short"/>
	<field name="corrida" class="java.lang.Short"/>
	<field name="descripcion" class="java.lang.String"/>
	<field name="desc" class="java.lang.String"/>
	<field name="producto" class="java.lang.Short"/>
	<variable name="pareso" class="java.lang.Short" calculation="Sum"/>
	<variable name="precioso" class="java.lang.Float" calculation="Sum"/>
	<variable name="vtanetaso" class="java.lang.Float" calculation="Sum"/>
	<variable name="costoso" class="java.lang.Float" calculation="Sum"/>
	<variable name="costotalso" class="java.lang.Float" calculation="Sum"/>
	<variable name="gastoso" class="java.lang.Float" calculation="Sum"/>
	<variable name="costnetoso" class="java.lang.Float" calculation="Sum"/>
	<variable name="utilidadeso" class="java.lang.Float" calculation="Sum"/>
	<detail>
		<band splitType="Stretch">
			<subreport>
				<reportElement x="30" y="0" width="497" height="0" uuid="0e4157ff-19de-4238-bcda-2fa3f69ccf8d"/>
				<subreportParameter name="f1">
					<subreportParameterExpression><![CDATA[$P{f1}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="f2">
					<subreportParameterExpression><![CDATA[$P{f2}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="nombre">
					<subreportParameterExpression><![CDATA[$P{nombre}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="producto">
					<subreportParameterExpression><![CDATA[$F{producto}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="linea">
					<subreportParameterExpression><![CDATA[$P{linea}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="precios" toVariable="precioso"/>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "preciopond_det.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="15">
			<textField>
				<reportElement x="52" y="0" width="74" height="11" uuid="10e33278-858a-4f30-ad90-0694aab824d4"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="126" y="0" width="61" height="11" uuid="2ddeb101-c71c-46c5-881e-791eef9694e3"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{desc}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="30" y="11" width="524" height="3" uuid="afd55e07-f152-467a-8a03-565c351ca7bb"/>
				<subreportParameter name="precio">
					<subreportParameterExpression><![CDATA[$V{precioso}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="f1">
					<subreportParameterExpression><![CDATA[$P{f1}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="producto">
					<subreportParameterExpression><![CDATA[$F{Id_Producto}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="f2">
					<subreportParameterExpression><![CDATA[$P{f2}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="nombre">
					<subreportParameterExpression><![CDATA[$P{nombre}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="linea">
					<subreportParameterExpression><![CDATA[$P{linea}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="pares" toVariable="pareso"/>
				<returnValue subreportVariable="vtanetas" toVariable="vtanetaso"/>
				<returnValue subreportVariable="precios" toVariable="precioso"/>
				<returnValue subreportVariable="costos" toVariable="costoso"/>
				<returnValue subreportVariable="costotals" toVariable="costotalso"/>
				<returnValue subreportVariable="gastos" toVariable="gastoso"/>
				<returnValue subreportVariable="costnetos" toVariable="costnetoso"/>
				<returnValue subreportVariable="utilidades" toVariable="utilidadeso"/>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "punto_detalle.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="11">
			<textField pattern="#,##0">
				<reportElement x="78" y="0" width="37" height="9" uuid="acd91fba-861f-4276-bca7-08378b819242"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{pareso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="149" y="0" width="63" height="9" uuid="8030270d-ba5c-4714-b3ae-6aacef2b686c"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{vtanetaso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="212" y="0" width="53" height="9" uuid="ab8d9c64-8175-4c9d-9a77-250926a93ae7"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{costoso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="265" y="0" width="43" height="9" uuid="2c7b257b-ecb1-484d-a89a-ea7a0e381585"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{costotalso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="308" y="0" width="39" height="9" uuid="5a52c760-ebf8-4202-9b0d-62de192f5041"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{gastoso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="347" y="0" width="41" height="9" uuid="b066b956-b988-4e8c-bc97-712566a89627"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{costnetoso}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="388" y="0" width="66" height="9" uuid="0b99a9ba-ef52-4d03-be33-848dad3fa402"/>
				<textElement textAlignment="Center">
					<font size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{utilidadeso}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="48" y="0" width="30" height="9" uuid="b3361bf1-b81e-4a5e-b6dc-ea745eb44daf"/>
				<textElement textAlignment="Right">
					<font size="7" isBold="false"/>
				</textElement>
				<text><![CDATA[Total:     ]]></text>
			</staticText>
			<line>
				<reportElement x="78" y="0" width="37" height="1" uuid="537d69b4-9fa9-4a03-929e-b447dc2757be"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="388" y="0" width="66" height="1" uuid="ea1e0c31-dbe3-4ce5-b000-609c4c527590"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="347" y="0" width="41" height="1" uuid="6feea51c-0f6d-4b30-9fa7-ff6dd595244b"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="149" y="0" width="63" height="1" uuid="3f81fc30-2917-44ac-934d-6af8101c4304"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="265" y="0" width="43" height="1" uuid="fb918d73-ce0c-4564-adb3-9bf3fcd27ec1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
		</band>
	</detail>
</jasperReport>
